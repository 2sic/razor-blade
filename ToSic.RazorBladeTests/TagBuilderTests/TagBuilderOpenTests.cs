using Microsoft.VisualStudio.TestTools.UnitTesting;
using ToSic.Razor.Markup;
using ToSic.RazorBladeTests.TagTests;

namespace ToSic.RazorBladeTests.TagBuilderTests
{
    [TestClass]
    public class TagBuilderOpenTests: TagTestBase
    {
        [TestMethod]
        public void OpenSimpleTags()
        {
            Is("<p>", Custom("p").TagStart);
            Is("<em>", Custom("em").TagStart);
            Is("<EM>", Custom("EM").TagStart);
            Is("<ng-template>", Custom("ng-template").TagStart);
        }


        [TestMethod]
        public void OpenTagsWithId() 
            => Is("<p id='myId'>",
                Custom("p").Id("myId").TagStart);

        [TestMethod]
        public void OpenTagsWithClass() 
            => Is("<p class='my-class'>", 
                Custom("p").Class("my-class").TagStart);

        [TestMethod]
        public void OpenTagsWithClasses() 
            => Is("<p class='my-class float-right'>", 
                Custom("p").Class("my-class float-right").TagStart);

        [TestMethod]
        public void OpenTagsWithIdAndClasses() 
            => Is("<p id='myId' class='my-class float-right'>", 
                Custom("p").Id("myId").Class("my-class float-right")
                    .TagStart);

        [TestMethod]
        public void OpenTagsWithAttributeString() 
            => Is("<p data='xyz'>", 
                Custom("p").Attr("data='xyz'")
                    .TagStart);

        [TestMethod]
        public void OpenTagsWithAttributeStringAndSpace() 
            => Is("<p data='xyz'>", 
                Custom("p").Attr(" data='xyz'")
                    .TagStart);

        [TestMethod]
        public void OpenTagsWithAttributeList()
            => Is("<p data='xyz' kitchen='black'>",
                Custom("p").Attr("data", "xyz")
                    .Attr("kitchen", "black")
                    .TagStart);

        [TestMethod]
        public void OpenTagsWithClassIdAndAttributeString() 
            => Is("<p id='myId' class='my-class float-right' data='xyz'>", 
                Custom("p")
                    .Id("myId")
                    .Class("my-class float-right")
                    .Attr("data='xyz'")
                    .TagStart);

        [TestMethod]
        public void OpenTagsWithClassIdAndAttributeList() 
            => Is("<p id='myId' class='my-class float-right' data='xyz' kitchen='black'>", 
                Custom("p").Id("myId").Class("my-class float-right")
                    .Attr("data", "xyz")
                    .Attr("kitchen", "black")
                    .TagStart);

        [TestMethod]
        public void OpenTagWithSelfClose()
            => Is("<p/>", 
                Custom("p", options: new TagOptions {SelfClose = true}).TagStart);

        [TestMethod]
        public void OpenTagsWithIdAndClassesSelfClose()
            => Is("<p id='myId' class='my-class float-right'/>",
                Custom("p", options: new TagOptions { SelfClose = true })
                    .Id("myId").Class("my-class float-right").TagStart);


        [TestMethod]
        public void OpenTagsWithClassIdAndAttributeListOptionsQuote() 
            => Is("<p id=\"myId\" class=\"my-class float-right\" data=\"xyz\" kitchen=\"black\">", 
                Custom("p", new TagOptions(new AttributeOptions {Quote = "\""}))
                    .Id("myId").Class("my-class float-right")
                    .Attr("data", "xyz")
                    .Attr("kitchen", "black").TagStart
                );

    }
}
