using Connect.Razor.Blade;
using Connect.Razor.Blade.HtmlTags;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace Razor_Blades_Tests.TagBuilderTests
{
    [TestClass]
    public class TagBuilderOpenTests: TagTestBase
    {
        [TestMethod]
        public void OpenSimpleTags()
        {
            Is("<p>", new Tag("p").Open);
            Is("<em>", new Tag("em").Open);
            Is("<EM>", new Tag("EM").Open);
            Is("<ng-template>", new Tag("ng-template").Open);
        }


        [TestMethod]
        public void OpenTagsWithId() 
            => Is("<p id='myId'>",
                new Tag("p").Id("myId").Open);

        [TestMethod]
        public void OpenTagsWithClass() 
            => Is("<p class='my-class'>", 
                new Tag("p").Class("my-class").Open);

        [TestMethod]
        public void OpenTagsWithClasses() 
            => Is("<p class='my-class float-right'>", 
                new Tag("p").Class("my-class float-right").Open);

        [TestMethod]
        public void OpenTagsWithIdAndClasses() 
            => Is("<p id='myId' class='my-class float-right'>", 
                new Tag("p").Id("myId").Class("my-class float-right")
                    .Open);

        [TestMethod]
        public void OpenTagsWithAttributeString() 
            => Is("<p data='xyz'>", 
                new Tag("p").Attr("data='xyz'")
                    .Open);

        [TestMethod]
        public void OpenTagsWithAttributeStringAndSpace() 
            => Is("<p data='xyz'>", 
                new Tag("p").Attr(" data='xyz'")
                    .Open);

        [TestMethod]
        public void OpenTagsWithAttributeList()
            => Is("<p data='xyz' kitchen='black'>",
                new Tag("p").Attr("data", "xyz")
                    .Attr("kitchen", "black")
                    .Open);

        [TestMethod]
        public void OpenTagsWithClassIdAndAttributeString() 
            => Is("<p id='myId' class='my-class float-right' data='xyz'>", 
                new Tag("p")
                    .Id("myId")
                    .Class("my-class float-right")
                    .Attr("data='xyz'")
                    .Open);

        [TestMethod]
        public void OpenTagsWithClassIdAndAttributeList() 
            => Is("<p id='myId' class='my-class float-right' data='xyz' kitchen='black'>", 
                new Tag("p").Id("myId").Class("my-class float-right")
                    .Attr("data", "xyz")
                    .Attr("kitchen", "black")
                    .Open);

        [TestMethod]
        public void OpenTagWithSelfClose()
            => Is("<p/>", 
                new Tag("p", options: new TagOptions {SelfClose = true}).Open);

        [TestMethod]
        public void OpenTagsWithIdAndClassesSelfClose()
            => Is("<p id='myId' class='my-class float-right'/>",
                new Tag("p", options: new TagOptions { SelfClose = true })
                    .Id("myId").Class("my-class float-right").Open);


        [TestMethod]
        public void OpenTagsWithClassIdAndAttributeListOptionsQuote() 
            => Is("<p id=\"myId\" class=\"my-class float-right\" data=\"xyz\" kitchen=\"black\">", 
                new Tag("p", new TagOptions(new AttributeOptions {Quote = "\""}))
                    .Id("myId").Class("my-class float-right")
                    .Attr("data", "xyz")
                    .Attr("kitchen", "black").Open
                );

    }
}
