using System.Collections.Generic;
using Connect.Razor.Blade.HtmlTags;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace Razor_Blades_Tests.TagBuilderTests
{
    [TestClass]
    public class TagBuilderOpenTests
    {
        [TestMethod]
        public void OpenSimpleTags()
        {
            Assert.AreEqual("<p>", new Tag("p").Open.ToString());
            Assert.AreEqual("<em>", new Tag("em").Open.ToString());
            Assert.AreEqual("<EM>", new Tag("EM").Open.ToString());
            Assert.AreEqual("<ng-template>", new Tag("ng-template").Open.ToString());
        }


        [TestMethod]
        public void OpenTagsWithId() 
            => Assert.AreEqual("<p id='myId'>",
                new Tag("p").Id("myId").Open.ToString());

        [TestMethod]
        public void OpenTagsWithClass() 
            => Assert.AreEqual("<p class='my-class'>", 
                new Tag("p").Classes("my-class").Open.ToString());

        [TestMethod]
        public void OpenTagsWithClasses() 
            => Assert.AreEqual("<p class='my-class float-right'>", 
                new Tag("p").Classes("my-class float-right").Open.ToString());

        [TestMethod]
        public void OpenTagsWithIdAndClasses() 
            => Assert.AreEqual("<p id='myId' class='my-class float-right'>", 
                new Tag("p").Id("myId").Classes("my-class float-right")
                    .Open.ToString());

        [TestMethod]
        public void OpenTagsWithAttributeString() 
            => Assert.AreEqual("<p data='xyz'>", 
                new Tag("p").Attr("data='xyz'")
                    .Open.ToString());

        [TestMethod]
        public void OpenTagsWithAttributeStringAndSpace() 
            => Assert.AreEqual("<p data='xyz'>", 
                new Tag("p").Attr(" data='xyz'")
                    .Open.ToString());

        [TestMethod]
        public void OpenTagsWithAttributeList()
            => Assert.AreEqual("<p data='xyz' kitchen='black'>",
                new Tag("p").Attr("data", "xyz")
                    .Attr("kitchen", "black")
                    .Open.ToString());

        [TestMethod]
        public void OpenTagsWithClassIdAndAttributeString() 
            => Assert.AreEqual("<p id='myId' class='my-class float-right' data='xyz'>", 
                new Tag("p")
                    .Id("myId")
                    .Classes("my-class float-right")
                    .Attr("data='xyz'")
                    .Open.ToString());

        [TestMethod]
        public void OpenTagsWithClassIdAndAttributeList() 
            => Assert.AreEqual("<p id='myId' class='my-class float-right' data='xyz' kitchen='black'>", 
                new Tag("p").Id("myId").Classes("my-class float-right")
                    .Attr("data", "xyz")
                    .Attr("kitchen", "black")
                    .Open.ToString());

        [TestMethod]
        public void OpenTagWithSelfClose()
            => Assert.AreEqual("<p/>", 
                new Tag("p", options: new TagOptions {SelfClose = true}).Open.ToString());

        [TestMethod]
        public void OpenTagsWithIdAndClassesSelfClose()
            => Assert.AreEqual("<p id='myId' class='my-class float-right'/>",
                new Tag("p", options: new TagOptions { SelfClose = true })
                    .Id("myId").Classes("my-class float-right").Open.ToString());


        [TestMethod]
        public void OpenTagsWithClassIdAndAttributeListOptionsQuote() 
            => Assert.AreEqual("<p id=\"myId\" class=\"my-class float-right\" data=\"xyz\" kitchen=\"black\">", 
                new Tag("p", new TagOptions(new AttributeOptions {Quote = "\""}))
                    .Id("myId").Classes("my-class float-right")
                    .Attr("data", "xyz")
                    .Attr("kitchen", "black").Open.ToString()
                );

    }
}
